<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ScanMaster Integration Questionnaire</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --primary: #2563eb;
      --primary-dark: #1d4ed8;
      --primary-light: #3b82f6;
      --success: #10b981;
      --warning: #f59e0b;
      --bg-gradient-start: #0f172a;
      --bg-gradient-end: #1e293b;
      --card-bg: rgba(255, 255, 255, 0.03);
      --card-border: rgba(255, 255, 255, 0.1);
      --text-primary: #f1f5f9;
      --text-secondary: #94a3b8;
      --input-bg: rgba(255, 255, 255, 0.05);
      --input-border: rgba(255, 255, 255, 0.15);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      background: linear-gradient(135deg, var(--bg-gradient-start) 0%, var(--bg-gradient-end) 100%);
      min-height: 100vh;
      color: var(--text-primary);
      line-height: 1.6;
    }

    .container {
      max-width: 900px;
      margin: 0 auto;
      padding: 40px 20px;
    }

    /* Header */
    .header {
      text-align: center;
      margin-bottom: 50px;
      padding: 40px;
      background: var(--card-bg);
      border: 1px solid var(--card-border);
      border-radius: 24px;
      backdrop-filter: blur(10px);
    }

    .logo-container {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 20px;
      margin-bottom: 30px;
    }

    .logo {
      width: 80px;
      height: 80px;
      background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
      border-radius: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 32px;
      font-weight: 700;
      color: white;
      box-shadow: 0 10px 40px rgba(37, 99, 235, 0.3);
    }

    .header h1 {
      font-size: 2.5rem;
      font-weight: 700;
      background: linear-gradient(135deg, #fff 0%, #94a3b8 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      margin-bottom: 15px;
    }

    .header p {
      color: var(--text-secondary);
      font-size: 1.1rem;
      max-width: 600px;
      margin: 0 auto;
    }

    .badge {
      display: inline-block;
      padding: 6px 16px;
      background: rgba(37, 99, 235, 0.2);
      border: 1px solid rgba(37, 99, 235, 0.3);
      border-radius: 50px;
      font-size: 0.85rem;
      color: var(--primary-light);
      margin-top: 20px;
    }

    /* Progress Bar */
    .progress-container {
      margin-bottom: 40px;
      padding: 20px 30px;
      background: var(--card-bg);
      border: 1px solid var(--card-border);
      border-radius: 16px;
    }

    .progress-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 12px;
    }

    .progress-label {
      font-weight: 500;
      color: var(--text-secondary);
    }

    .progress-value {
      font-weight: 600;
      color: var(--primary-light);
    }

    .progress-bar {
      height: 8px;
      background: var(--input-bg);
      border-radius: 10px;
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, var(--primary) 0%, var(--success) 100%);
      border-radius: 10px;
      transition: width 0.5s ease;
      width: 0%;
    }

    /* Section Cards */
    .section {
      background: var(--card-bg);
      border: 1px solid var(--card-border);
      border-radius: 20px;
      padding: 30px;
      margin-bottom: 25px;
      transition: all 0.3s ease;
    }

    .section:hover {
      border-color: rgba(37, 99, 235, 0.3);
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
    }

    .section-header {
      display: flex;
      align-items: center;
      gap: 15px;
      margin-bottom: 25px;
      padding-bottom: 20px;
      border-bottom: 1px solid var(--card-border);
    }

    .section-number {
      width: 45px;
      height: 45px;
      background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: 1.2rem;
      flex-shrink: 0;
    }

    .section-title {
      font-size: 1.3rem;
      font-weight: 600;
    }

    .section-desc {
      color: var(--text-secondary);
      font-size: 0.9rem;
      margin-top: 4px;
    }

    /* Form Elements */
    .form-group {
      margin-bottom: 25px;
    }

    .form-label {
      display: block;
      font-weight: 500;
      margin-bottom: 10px;
      color: var(--text-primary);
    }

    .form-label .required {
      color: #ef4444;
      margin-left: 4px;
    }

    .form-hint {
      font-size: 0.85rem;
      color: var(--text-secondary);
      margin-top: 6px;
    }

    /* Checkboxes */
    .checkbox-group {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .checkbox-item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 14px 18px;
      background: var(--input-bg);
      border: 1px solid var(--input-border);
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .checkbox-item:hover {
      border-color: var(--primary);
      background: rgba(37, 99, 235, 0.1);
    }

    .checkbox-item.selected {
      border-color: var(--primary);
      background: rgba(37, 99, 235, 0.15);
    }

    .checkbox-item input[type="checkbox"] {
      display: none;
    }

    .checkbox-custom {
      width: 22px;
      height: 22px;
      border: 2px solid var(--input-border);
      border-radius: 6px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s ease;
      flex-shrink: 0;
    }

    .checkbox-item.selected .checkbox-custom {
      background: var(--primary);
      border-color: var(--primary);
    }

    .checkbox-custom svg {
      width: 14px;
      height: 14px;
      stroke: white;
      stroke-width: 3;
      opacity: 0;
      transition: opacity 0.2s ease;
    }

    .checkbox-item.selected .checkbox-custom svg {
      opacity: 1;
    }

    .checkbox-text {
      flex: 1;
    }

    .checkbox-text .main {
      font-weight: 500;
    }

    .checkbox-text .sub {
      font-size: 0.85rem;
      color: var(--text-secondary);
      margin-top: 2px;
    }

    /* Inputs */
    input[type="text"],
    input[type="number"],
    input[type="email"],
    textarea {
      width: 100%;
      padding: 14px 18px;
      background: var(--input-bg);
      border: 1px solid var(--input-border);
      border-radius: 12px;
      color: var(--text-primary);
      font-family: inherit;
      font-size: 1rem;
      transition: all 0.2s ease;
    }

    input:focus,
    textarea:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.2);
    }

    input::placeholder,
    textarea::placeholder {
      color: var(--text-secondary);
    }

    textarea {
      resize: vertical;
      min-height: 100px;
    }

    /* Tables */
    .spec-table {
      width: 100%;
      border-collapse: separate;
      border-spacing: 0;
      margin-top: 15px;
    }

    .spec-table th,
    .spec-table td {
      padding: 14px 16px;
      text-align: left;
      border-bottom: 1px solid var(--card-border);
    }

    .spec-table th {
      background: rgba(37, 99, 235, 0.1);
      font-weight: 600;
      color: var(--primary-light);
      font-size: 0.9rem;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .spec-table th:first-child {
      border-radius: 12px 0 0 0;
    }

    .spec-table th:last-child {
      border-radius: 0 12px 0 0;
    }

    .spec-table tr:last-child td:first-child {
      border-radius: 0 0 0 12px;
    }

    .spec-table tr:last-child td:last-child {
      border-radius: 0 0 12px 0;
    }

    .spec-table td {
      background: var(--input-bg);
    }

    .spec-table input {
      background: transparent;
      border: none;
      padding: 8px;
      width: 100%;
    }

    .spec-table input:focus {
      box-shadow: none;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 6px;
    }

    .unit {
      color: var(--text-secondary);
      font-size: 0.9rem;
    }

    /* Integration Options */
    .integration-options {
      display: grid;
      gap: 15px;
    }

    .integration-option {
      padding: 20px;
      background: var(--input-bg);
      border: 2px solid var(--input-border);
      border-radius: 16px;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .integration-option:hover {
      border-color: var(--primary);
    }

    .integration-option.selected {
      border-color: var(--primary);
      background: rgba(37, 99, 235, 0.1);
    }

    .integration-option input[type="radio"] {
      display: none;
    }

    .option-header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 10px;
    }

    .option-radio {
      width: 24px;
      height: 24px;
      border: 2px solid var(--input-border);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s ease;
    }

    .integration-option.selected .option-radio {
      border-color: var(--primary);
    }

    .option-radio::after {
      content: '';
      width: 12px;
      height: 12px;
      background: var(--primary);
      border-radius: 50%;
      opacity: 0;
      transition: opacity 0.2s ease;
    }

    .integration-option.selected .option-radio::after {
      opacity: 1;
    }

    .option-title {
      font-weight: 600;
      font-size: 1.1rem;
    }

    .option-diagram {
      font-family: 'Courier New', monospace;
      background: rgba(0, 0, 0, 0.3);
      padding: 12px 16px;
      border-radius: 8px;
      font-size: 0.9rem;
      color: var(--success);
      margin-bottom: 10px;
    }

    .option-desc {
      color: var(--text-secondary);
      font-size: 0.9rem;
    }

    /* Submit Section */
    .submit-section {
      text-align: center;
      padding: 40px;
      background: var(--card-bg);
      border: 1px solid var(--card-border);
      border-radius: 20px;
      margin-top: 30px;
    }

    .submit-btn {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      padding: 18px 50px;
      background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
      border: none;
      border-radius: 14px;
      color: white;
      font-size: 1.1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 10px 30px rgba(37, 99, 235, 0.3);
    }

    .submit-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 15px 40px rgba(37, 99, 235, 0.4);
    }

    .submit-btn svg {
      width: 20px;
      height: 20px;
    }

    .submit-note {
      margin-top: 20px;
      color: var(--text-secondary);
      font-size: 0.9rem;
    }

    /* Contact Info */
    .contact-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
    }

    @media (max-width: 600px) {
      .contact-row {
        grid-template-columns: 1fr;
      }
    }

    /* Footer */
    .footer {
      text-align: center;
      padding: 30px;
      color: var(--text-secondary);
      font-size: 0.9rem;
    }

    .footer a {
      color: var(--primary-light);
      text-decoration: none;
    }

    /* Animations */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .section {
      animation: fadeIn 0.5s ease forwards;
    }

    .section:nth-child(1) { animation-delay: 0.1s; }
    .section:nth-child(2) { animation-delay: 0.2s; }
    .section:nth-child(3) { animation-delay: 0.3s; }
    .section:nth-child(4) { animation-delay: 0.4s; }
    .section:nth-child(5) { animation-delay: 0.5s; }
    .section:nth-child(6) { animation-delay: 0.6s; }
    .section:nth-child(7) { animation-delay: 0.7s; }
  </style>
</head>
<body>
  <div class="container">
    <!-- Header -->
    <header class="header">
      <div class="logo-container">
        <div class="logo">SM</div>
      </div>
      <h1>ScanMaster Integration</h1>
      <p>Help us build the perfect integration between Scan-Master and your CSI software. Please fill out this questionnaire with your system specifications.</p>
      <span class="badge">‚è± Estimated time: 10-15 minutes</span>
    </header>

    <!-- Progress Bar -->
    <div class="progress-container">
      <div class="progress-header">
        <span class="progress-label">Form Completion</span>
        <span class="progress-value" id="progressValue">0%</span>
      </div>
      <div class="progress-bar">
        <div class="progress-fill" id="progressFill"></div>
      </div>
    </div>

    <form id="integrationForm">
      <!-- Section 1: CSI File Format -->
      <div class="section">
        <div class="section-header">
          <div class="section-number">1</div>
          <div>
            <div class="section-title">CSI File Format</div>
            <div class="section-desc">What file format does CSI accept for setup import?</div>
          </div>
        </div>

        <div class="form-group">
          <label class="form-label">Supported Import Formats <span class="required">*</span></label>
          <div class="checkbox-group">
            <label class="checkbox-item">
              <input type="checkbox" name="format_xml" value="xml">
              <div class="checkbox-custom">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><polyline points="20 6 9 17 4 12"></polyline></svg>
              </div>
              <div class="checkbox-text">
                <div class="main">XML</div>
                <div class="sub">Extensible Markup Language</div>
              </div>
            </label>
            <label class="checkbox-item">
              <input type="checkbox" name="format_json" value="json">
              <div class="checkbox-custom">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><polyline points="20 6 9 17 4 12"></polyline></svg>
              </div>
              <div class="checkbox-text">
                <div class="main">JSON</div>
                <div class="sub">JavaScript Object Notation</div>
              </div>
            </label>
            <label class="checkbox-item">
              <input type="checkbox" name="format_binary" value="binary">
              <div class="checkbox-custom">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><polyline points="20 6 9 17 4 12"></polyline></svg>
              </div>
              <div class="checkbox-text">
                <div class="main">Binary</div>
                <div class="sub">.csi / .prg / .stp format</div>
              </div>
            </label>
            <label class="checkbox-item">
              <input type="checkbox" name="format_other" value="other">
              <div class="checkbox-custom">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><polyline points="20 6 9 17 4 12"></polyline></svg>
              </div>
              <div class="checkbox-text">
                <div class="main">Other Format</div>
                <div class="sub">Please specify below</div>
              </div>
            </label>
          </div>
        </div>

        <div class="form-group">
          <label class="form-label">Other Format (if applicable)</label>
          <input type="text" name="format_other_specify" placeholder="Describe the format...">
        </div>

        <div class="form-group">
          <label class="form-label">Available Documentation</label>
          <div class="checkbox-group">
            <label class="checkbox-item">
              <input type="checkbox" name="doc_schema" value="schema">
              <div class="checkbox-custom">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><polyline points="20 6 9 17 4 12"></polyline></svg>
              </div>
              <div class="checkbox-text">
                <div class="main">File Format Specification / Schema</div>
              </div>
            </label>
            <label class="checkbox-item">
              <input type="checkbox" name="doc_sample" value="sample">
              <div class="checkbox-custom">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><polyline points="20 6 9 17 4 12"></polyline></svg>
              </div>
              <div class="checkbox-text">
                <div class="main">Sample Setup File</div>
              </div>
            </label>
            <label class="checkbox-item">
              <input type="checkbox" name="doc_fields" value="fields">
              <div class="checkbox-custom">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><polyline points="20 6 9 17 4 12"></polyline></svg>
              </div>
              <div class="checkbox-text">
                <div class="main">Field List with Data Types</div>
              </div>
            </label>
          </div>
        </div>
      </div>

      <!-- Section 2: Communication Protocol -->
      <div class="section">
        <div class="section-header">
          <div class="section-number">2</div>
          <div>
            <div class="section-title">Communication Protocol</div>
            <div class="section-desc">How does external software connect to CSI?</div>
          </div>
        </div>

        <div class="form-group">
          <label class="form-label">Connection Methods <span class="required">*</span></label>
          <div class="checkbox-group">
            <label class="checkbox-item">
              <input type="checkbox" name="conn_file" value="file">
              <div class="checkbox-custom">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><polyline points="20 6 9 17 4 12"></polyline></svg>
              </div>
              <div class="checkbox-text">
                <div class="main">File Import Only</div>
                <div class="sub">Manual file transfer</div>
              </div>
            </label>
            <label class="checkbox-item">
              <input type="checkbox" name="conn_tcpip" value="tcpip">
              <div class="checkbox-custom">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><polyline points="20 6 9 17 4 12"></polyline></svg>
              </div>
              <div class="checkbox-text">
                <div class="main">TCP/IP</div>
                <div class="sub">Network connection</div>
              </div>
            </label>
            <label class="checkbox-item">
              <input type="checkbox" name="conn_serial" value="serial">
              <div class="checkbox-custom">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><polyline points="20 6 9 17 4 12"></polyline></svg>
              </div>
              <div class="checkbox-text">
                <div class="main">Serial RS-232/485</div>
                <div class="sub">Serial port connection</div>
              </div>
            </label>
            <label class="checkbox-item">
              <input type="checkbox" name="conn_opcua" value="opcua">
              <div class="checkbox-custom">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><polyline points="20 6 9 17 4 12"></polyline></svg>
              </div>
              <div class="checkbox-text">
                <div class="main">OPC-UA</div>
                <div class="sub">Industrial automation standard</div>
              </div>
            </label>
            <label class="checkbox-item">
              <input type="checkbox" name="conn_sdk" value="sdk">
              <div class="checkbox-custom">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><polyline points="20 6 9 17 4 12"></polyline></svg>
              </div>
              <div class="checkbox-text">
                <div class="main">SDK/API Available</div>
                <div class="sub">Software development kit</div>
              </div>
            </label>
          </div>
        </div>

        <div class="contact-row">
          <div class="form-group">
            <label class="form-label">TCP/IP Address (if applicable)</label>
            <input type="text" name="tcpip_address" placeholder="192.168.1.100">
          </div>
          <div class="form-group">
            <label class="form-label">TCP/IP Port</label>
            <input type="text" name="tcpip_port" placeholder="5000">
          </div>
        </div>

        <div class="form-group">
          <label class="form-label">Serial Baud Rate (if applicable)</label>
          <input type="text" name="serial_baud" placeholder="115200">
        </div>

        <div class="form-group">
          <label class="form-label">Is API documentation available?</label>
          <div class="checkbox-group">
            <label class="checkbox-item">
              <input type="checkbox" name="api_docs" value="yes">
              <div class="checkbox-custom">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><polyline points="20 6 9 17 4 12"></polyline></svg>
              </div>
              <div class="checkbox-text">
                <div class="main">Yes, API documentation is available</div>
                <div class="sub">Please attach or provide link below</div>
              </div>
            </label>
          </div>
        </div>
      </div>

      <!-- Section 3: Scanner Machine Specifications -->
      <div class="section">
        <div class="section-header">
          <div class="section-number">3</div>
          <div>
            <div class="section-title">Scanner Machine Specifications</div>
            <div class="section-desc">Physical and motion capabilities of your system</div>
          </div>
        </div>

        <div class="form-group">
          <label class="form-label">Motion System</label>
          <table class="spec-table">
            <thead>
              <tr>
                <th>Parameter</th>
                <th>Value</th>
                <th>Unit</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Max Scan Speed</td>
                <td><input type="number" name="max_scan_speed" placeholder="Enter value"></td>
                <td class="unit">mm/s</td>
              </tr>
              <tr>
                <td>Max Index Speed</td>
                <td><input type="number" name="max_index_speed" placeholder="Enter value"></td>
                <td class="unit">mm/s</td>
              </tr>
              <tr>
                <td>Max Rotation Speed</td>
                <td><input type="number" name="max_rotation_speed" placeholder="Enter value"></td>
                <td class="unit">rpm</td>
              </tr>
              <tr>
                <td>Max Acceleration</td>
                <td><input type="number" name="max_acceleration" placeholder="Enter value"></td>
                <td class="unit">mm/s¬≤</td>
              </tr>
              <tr>
                <td>X Travel</td>
                <td><input type="number" name="x_travel" placeholder="Enter value"></td>
                <td class="unit">mm</td>
              </tr>
              <tr>
                <td>Y Travel</td>
                <td><input type="number" name="y_travel" placeholder="Enter value"></td>
                <td class="unit">mm</td>
              </tr>
              <tr>
                <td>Z Travel</td>
                <td><input type="number" name="z_travel" placeholder="Enter value"></td>
                <td class="unit">mm</td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="form-group">
          <label class="form-label">Immersion Tank Dimensions</label>
          <table class="spec-table">
            <thead>
              <tr>
                <th>Parameter</th>
                <th>Value</th>
                <th>Unit</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Length</td>
                <td><input type="number" name="tank_length" placeholder="Enter value"></td>
                <td class="unit">mm</td>
              </tr>
              <tr>
                <td>Width</td>
                <td><input type="number" name="tank_width" placeholder="Enter value"></td>
                <td class="unit">mm</td>
              </tr>
              <tr>
                <td>Depth</td>
                <td><input type="number" name="tank_depth" placeholder="Enter value"></td>
                <td class="unit">mm</td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="form-group">
          <label class="form-label">UT System Capabilities</label>
          <table class="spec-table">
            <thead>
              <tr>
                <th>Parameter</th>
                <th>Value</th>
                <th>Unit</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Max PRF</td>
                <td><input type="number" name="max_prf" placeholder="Enter value"></td>
                <td class="unit">Hz</td>
              </tr>
              <tr>
                <td>Frequency Range</td>
                <td><input type="text" name="freq_range" placeholder="e.g. 1-15"></td>
                <td class="unit">MHz</td>
              </tr>
              <tr>
                <td>Number of Channels</td>
                <td><input type="number" name="channels" placeholder="Enter value"></td>
                <td class="unit">‚Äî</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <!-- Section 4: Required Setup Data -->
      <div class="section">
        <div class="section-header">
          <div class="section-number">4</div>
          <div>
            <div class="section-title">Required Setup Data</div>
            <div class="section-desc">Which fields are required for a valid setup in your system?</div>
          </div>
        </div>

        <div class="form-group">
          <label class="form-label">Part Definition Fields</label>
          <div class="checkbox-group">
            <label class="checkbox-item">
              <input type="checkbox" name="req_part_number" value="part_number">
              <div class="checkbox-custom">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><polyline points="20 6 9 17 4 12"></polyline></svg>
              </div>
              <div class="checkbox-text"><div class="main">Part Number</div></div>
            </label>
            <label class="checkbox-item">
              <input type="checkbox" name="req_material" value="material">
              <div class="checkbox-custom">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><polyline points="20 6 9 17 4 12"></polyline></svg>
              </div>
              <div class="checkbox-text"><div class="main">Material</div></div>
            </label>
            <label class="checkbox-item">
              <input type="checkbox" name="req_geometry" value="geometry">
              <div class="checkbox-custom">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><polyline points="20 6 9 17 4 12"></polyline></svg>
              </div>
              <div class="checkbox-text"><div class="main">Geometry Type</div></div>
            </label>
            <label class="checkbox-item">
              <input type="checkbox" name="req_dimensions" value="dimensions">
              <div class="checkbox-custom">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><polyline points="20 6 9 17 4 12"></polyline></svg>
              </div>
              <div class="checkbox-text"><div class="main">Dimensions (OD/ID/Length/Width/Thickness)</div></div>
            </label>
            <label class="checkbox-item">
              <input type="checkbox" name="req_velocity" value="velocity">
              <div class="checkbox-custom">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><polyline points="20 6 9 17 4 12"></polyline></svg>
              </div>
              <div class="checkbox-text"><div class="main">Acoustic Velocity</div></div>
            </label>
          </div>
        </div>

        <div class="form-group">
          <label class="form-label">Equipment Fields</label>
          <div class="checkbox-group">
            <label class="checkbox-item">
              <input type="checkbox" name="req_probe_freq" value="probe_freq">
              <div class="checkbox-custom">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><polyline points="20 6 9 17 4 12"></polyline></svg>
              </div>
              <div class="checkbox-text"><div class="main">Probe Frequency</div></div>
            </label>
            <label class="checkbox-item">
              <input type="checkbox" name="req_probe_diameter" value="probe_diameter">
              <div class="checkbox-custom">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><polyline points="20 6 9 17 4 12"></polyline></svg>
              </div>
              <div class="checkbox-text"><div class="main">Probe Diameter</div></div>
            </label>
            <label class="checkbox-item">
              <input type="checkbox" name="req_probe_type" value="probe_type">
              <div class="checkbox-custom">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><polyline points="20 6 9 17 4 12"></polyline></svg>
              </div>
              <div class="checkbox-text"><div class="main">Probe Type (Immersion/Contact)</div></div>
            </label>
            <label class="checkbox-item">
              <input type="checkbox" name="req_wedge_angle" value="wedge_angle">
              <div class="checkbox-custom">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><polyline points="20 6 9 17 4 12"></polyline></svg>
              </div>
              <div class="checkbox-text"><div class="main">Wedge Angle</div></div>
            </label>
          </div>
        </div>

        <div class="form-group">
          <label class="form-label">Scan Plan Fields</label>
          <div class="checkbox-group">
            <label class="checkbox-item">
              <input type="checkbox" name="req_scan_speed" value="scan_speed">
              <div class="checkbox-custom">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><polyline points="20 6 9 17 4 12"></polyline></svg>
              </div>
              <div class="checkbox-text"><div class="main">Scan Speed</div></div>
            </label>
            <label class="checkbox-item">
              <input type="checkbox" name="req_index_step" value="index_step">
              <div class="checkbox-custom">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><polyline points="20 6 9 17 4 12"></polyline></svg>
              </div>
              <div class="checkbox-text"><div class="main">Index Step</div></div>
            </label>
            <label class="checkbox-item">
              <input type="checkbox" name="req_water_path" value="water_path">
              <div class="checkbox-custom">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><polyline points="20 6 9 17 4 12"></polyline></svg>
              </div>
              <div class="checkbox-text"><div class="main">Water Path</div></div>
            </label>
            <label class="checkbox-item">
              <input type="checkbox" name="req_prf" value="prf">
              <div class="checkbox-custom">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><polyline points="20 6 9 17 4 12"></polyline></svg>
              </div>
              <div class="checkbox-text"><div class="main">PRF (Pulse Repetition Frequency)</div></div>
            </label>
            <label class="checkbox-item">
              <input type="checkbox" name="req_gain" value="gain">
              <div class="checkbox-custom">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><polyline points="20 6 9 17 4 12"></polyline></svg>
              </div>
              <div class="checkbox-text"><div class="main">Gain</div></div>
            </label>
            <label class="checkbox-item">
              <input type="checkbox" name="req_gates" value="gates">
              <div class="checkbox-custom">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><polyline points="20 6 9 17 4 12"></polyline></svg>
              </div>
              <div class="checkbox-text"><div class="main">Gates (Start/Width)</div></div>
            </label>
          </div>
        </div>

        <div class="form-group">
          <label class="form-label">Calibration Fields</label>
          <div class="checkbox-group">
            <label class="checkbox-item">
              <input type="checkbox" name="req_block_type" value="block_type">
              <div class="checkbox-custom">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><polyline points="20 6 9 17 4 12"></polyline></svg>
              </div>
              <div class="checkbox-text"><div class="main">Block Type</div></div>
            </label>
            <label class="checkbox-item">
              <input type="checkbox" name="req_block_serial" value="block_serial">
              <div class="checkbox-custom">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><polyline points="20 6 9 17 4 12"></polyline></svg>
              </div>
              <div class="checkbox-text"><div class="main">Block Serial Number</div></div>
            </label>
            <label class="checkbox-item">
              <input type="checkbox" name="req_fbh_sizes" value="fbh_sizes">
              <div class="checkbox-custom">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><polyline points="20 6 9 17 4 12"></polyline></svg>
              </div>
              <div class="checkbox-text"><div class="main">FBH Sizes</div></div>
            </label>
            <label class="checkbox-item">
              <input type="checkbox" name="req_dac_tcg" value="dac_tcg">
              <div class="checkbox-custom">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><polyline points="20 6 9 17 4 12"></polyline></svg>
              </div>
              <div class="checkbox-text"><div class="main">DAC/TCG Curve</div></div>
            </label>
          </div>
        </div>

        <div class="form-group">
          <label class="form-label">Other Required Fields</label>
          <textarea name="other_required_fields" placeholder="List any other fields required by your system..."></textarea>
        </div>
      </div>

      <!-- Section 5: Output Requirements -->
      <div class="section">
        <div class="section-header">
          <div class="section-number">5</div>
          <div>
            <div class="section-title">Output Requirements</div>
            <div class="section-desc">What outputs does our software need to generate for you?</div>
          </div>
        </div>

        <div class="form-group">
          <label class="form-label">Required Outputs <span class="required">*</span></label>
          <div class="checkbox-group">
            <label class="checkbox-item">
              <input type="checkbox" name="out_setup_file" value="setup_file">
              <div class="checkbox-custom">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><polyline points="20 6 9 17 4 12"></polyline></svg>
              </div>
              <div class="checkbox-text">
                <div class="main">Setup File (.csi / .xml / other)</div>
                <div class="sub">Complete inspection setup configuration</div>
              </div>
            </label>
            <label class="checkbox-item">
              <input type="checkbox" name="out_scan_path" value="scan_path">
              <div class="checkbox-custom">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><polyline points="20 6 9 17 4 12"></polyline></svg>
              </div>
              <div class="checkbox-text">
                <div class="main">Scan Path Coordinates (X, Y, Z)</div>
                <div class="sub">Motion path data for scanner</div>
              </div>
            </label>
            <label class="checkbox-item">
              <input type="checkbox" name="out_motion_program" value="motion_program">
              <div class="checkbox-custom">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><polyline points="20 6 9 17 4 12"></polyline></svg>
              </div>
              <div class="checkbox-text">
                <div class="main">Motion Program (G-code style)</div>
                <div class="sub">CNC-style motion commands</div>
              </div>
            </label>
            <label class="checkbox-item">
              <input type="checkbox" name="out_calibration" value="calibration">
              <div class="checkbox-custom">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><polyline points="20 6 9 17 4 12"></polyline></svg>
              </div>
              <div class="checkbox-text">
                <div class="main">Calibration Data</div>
                <div class="sub">DAC curves, reference levels</div>
              </div>
            </label>
            <label class="checkbox-item">
              <input type="checkbox" name="out_coverage_map" value="coverage_map">
              <div class="checkbox-custom">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><polyline points="20 6 9 17 4 12"></polyline></svg>
              </div>
              <div class="checkbox-text">
                <div class="main">Coverage Map</div>
                <div class="sub">Visual coverage verification</div>
              </div>
            </label>
          </div>
        </div>

        <div class="form-group">
          <label class="form-label">Other Output Requirements</label>
          <textarea name="other_outputs" placeholder="Describe any other outputs you need..."></textarea>
        </div>
      </div>

      <!-- Section 6: Integration Level -->
      <div class="section">
        <div class="section-header">
          <div class="section-number">6</div>
          <div>
            <div class="section-title">Integration Level</div>
            <div class="section-desc">Choose your preferred integration approach</div>
          </div>
        </div>

        <div class="form-group">
          <label class="form-label">Preferred Integration Type <span class="required">*</span></label>
          <div class="integration-options">
            <label class="integration-option">
              <input type="radio" name="integration_type" value="file_export">
              <div class="option-header">
                <div class="option-radio"></div>
                <div class="option-title">Option A: File Export</div>
              </div>
              <div class="option-diagram">Our Software ‚Üí Export File ‚Üí CSI Import ‚Üí Scanner</div>
              <div class="option-desc">Simple, manual file transfer. Requires: File format specification only.</div>
            </label>
            <label class="integration-option">
              <input type="radio" name="integration_type" value="direct_integration">
              <div class="option-header">
                <div class="option-radio"></div>
                <div class="option-title">Option B: Direct Integration</div>
              </div>
              <div class="option-diagram">Our Software ‚Üí TCP/API ‚Üí CSI ‚Üí Scanner</div>
              <div class="option-desc">Automatic transfer via API. Requires: API/SDK documentation.</div>
            </label>
            <label class="integration-option">
              <input type="radio" name="integration_type" value="direct_control">
              <div class="option-header">
                <div class="option-radio"></div>
                <div class="option-title">Option C: Direct Scanner Control</div>
              </div>
              <div class="option-diagram">Our Software ‚Üí Protocol ‚Üí Scanner Controller</div>
              <div class="option-desc">Full control of scanner. Requires: Controller protocol documentation.</div>
            </label>
          </div>
        </div>
      </div>

      <!-- Section 7: Sample Files -->
      <div class="section">
        <div class="section-header">
          <div class="section-number">7</div>
          <div>
            <div class="section-title">Sample Files & Documentation</div>
            <div class="section-desc">Please indicate what files you can provide for analysis</div>
          </div>
        </div>

        <div class="form-group">
          <label class="form-label">Files You Can Provide</label>
          <div class="checkbox-group">
            <label class="checkbox-item">
              <input type="checkbox" name="file_empty_template" value="empty_template">
              <div class="checkbox-custom">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><polyline points="20 6 9 17 4 12"></polyline></svg>
              </div>
              <div class="checkbox-text">
                <div class="main">Empty Setup Template</div>
                <div class="sub">Blank template file</div>
              </div>
            </label>
            <label class="checkbox-item">
              <input type="checkbox" name="file_completed_example" value="completed_example">
              <div class="checkbox-custom">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><polyline points="20 6 9 17 4 12"></polyline></svg>
              </div>
              <div class="checkbox-text">
                <div class="main">Completed Setup Example</div>
                <div class="sub">Real setup file for any part</div>
              </div>
            </label>
            <label class="checkbox-item">
              <input type="checkbox" name="file_scan_data" value="scan_data">
              <div class="checkbox-custom">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><polyline points="20 6 9 17 4 12"></polyline></svg>
              </div>
              <div class="checkbox-text">
                <div class="main">Exported Scan Data Example</div>
                <div class="sub">Sample output data</div>
              </div>
            </label>
            <label class="checkbox-item">
              <input type="checkbox" name="file_api_docs" value="api_docs">
              <div class="checkbox-custom">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><polyline points="20 6 9 17 4 12"></polyline></svg>
              </div>
              <div class="checkbox-text">
                <div class="main">API Documentation</div>
                <div class="sub">If available</div>
              </div>
            </label>
          </div>
        </div>

        <div class="form-group">
          <label class="form-label">Additional Notes or Comments</label>
          <textarea name="additional_notes" placeholder="Any other information you'd like to share about your system, special requirements, or questions for us..."></textarea>
        </div>
      </div>

      <!-- Submit Section -->
      <div class="submit-section">
        <button type="button" class="submit-btn" onclick="generateSummary()">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z"/>
          </svg>
          Generate Summary
        </button>
        <p class="submit-note">Click to generate a summary of your responses that you can copy and send.</p>
      </div>
    </form>

    <!-- Summary Modal -->
    <div id="summaryModal" style="display:none; position:fixed; top:0; left:0; right:0; bottom:0; background:rgba(0,0,0,0.8); z-index:1000; padding:20px; overflow:auto;">
      <div style="max-width:800px; margin:40px auto; background:var(--bg-gradient-end); border-radius:20px; padding:30px; border:1px solid var(--card-border);">
        <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px;">
          <h2 style="font-size:1.5rem;">üìã Response Summary</h2>
          <button onclick="closeSummary()" style="background:none; border:none; color:var(--text-secondary); font-size:1.5rem; cursor:pointer;">√ó</button>
        </div>
        <pre id="summaryContent" style="background:var(--input-bg); padding:20px; border-radius:12px; white-space:pre-wrap; font-size:0.9rem; line-height:1.6; max-height:60vh; overflow:auto;"></pre>
        <div style="display:flex; gap:15px; margin-top:20px;">
          <button onclick="copySummary()" style="flex:1; padding:14px; background:var(--primary); border:none; border-radius:10px; color:white; font-weight:600; cursor:pointer;">
            üìã Copy to Clipboard
          </button>
          <button onclick="closeSummary()" style="flex:1; padding:14px; background:var(--input-bg); border:1px solid var(--input-border); border-radius:10px; color:var(--text-primary); font-weight:600; cursor:pointer;">
            Close
          </button>
        </div>
      </div>
    </div>

    <footer class="footer">
      <p><strong>Project:</strong> Scan-Master Integration</p>
      <p><strong>Purpose:</strong> Automatic UT inspection setup generation</p>
      <p><strong>Target:</strong> Engine disc inspection (MRO/Production)</p>
    </footer>
  </div>

  <script>
    // Checkbox toggle functionality
    document.querySelectorAll('.checkbox-item').forEach(item => {
      item.addEventListener('click', function(e) {
        if (e.target.tagName !== 'INPUT') {
          const checkbox = this.querySelector('input[type="checkbox"]');
          if (checkbox) {
            checkbox.checked = !checkbox.checked;
            this.classList.toggle('selected', checkbox.checked);
          }
        }
        updateProgress();
      });
    });

    // Radio button toggle functionality
    document.querySelectorAll('.integration-option').forEach(option => {
      option.addEventListener('click', function(e) {
        if (e.target.tagName !== 'INPUT') {
          const radio = this.querySelector('input[type="radio"]');
          if (radio) {
            radio.checked = true;
            document.querySelectorAll('.integration-option').forEach(o => o.classList.remove('selected'));
            this.classList.add('selected');
          }
        }
        updateProgress();
      });
    });

    // Update progress bar
    function updateProgress() {
      const form = document.getElementById('integrationForm');
      const requiredFields = form.querySelectorAll('[required]');
      const allInputs = form.querySelectorAll('input, textarea');

      let filled = 0;
      let total = 0;

      allInputs.forEach(input => {
        if (input.type === 'checkbox' || input.type === 'radio') {
          // Count checkbox groups
          if (input.checked) filled++;
        } else if (input.value.trim()) {
          filled++;
        }
        total++;
      });

      const percentage = Math.round((filled / Math.max(total, 1)) * 100);
      document.getElementById('progressValue').textContent = percentage + '%';
      document.getElementById('progressFill').style.width = percentage + '%';
    }

    // Generate summary
    function generateSummary() {
      const form = document.getElementById('integrationForm');
      const formData = new FormData(form);

      let summary = `SCANMASTER INTEGRATION QUESTIONNAIRE RESPONSE\n`;
      summary += `${'='.repeat(50)}\n`;
      summary += `Generated: ${new Date().toLocaleString()}\n\n`;

      // File Format
      summary += `1. CSI FILE FORMAT\n${'-'.repeat(30)}\n`;
      const formats = [];
      if (formData.get('format_xml')) formats.push('XML');
      if (formData.get('format_json')) formats.push('JSON');
      if (formData.get('format_binary')) formats.push('Binary (.csi/.prg/.stp)');
      if (formData.get('format_other')) formats.push(`Other: ${formData.get('format_other_specify') || 'Not specified'}`);
      summary += `Supported Formats: ${formats.length ? formats.join(', ') : 'Not specified'}\n`;

      const docs = [];
      if (formData.get('doc_schema')) docs.push('Schema/Specification');
      if (formData.get('doc_sample')) docs.push('Sample File');
      if (formData.get('doc_fields')) docs.push('Field List');
      summary += `Available Documentation: ${docs.length ? docs.join(', ') : 'None indicated'}\n\n`;

      // Communication
      summary += `2. COMMUNICATION PROTOCOL\n${'-'.repeat(30)}\n`;
      const connections = [];
      if (formData.get('conn_file')) connections.push('File Import (Manual)');
      if (formData.get('conn_tcpip')) connections.push(`TCP/IP (${formData.get('tcpip_address') || '?'}:${formData.get('tcpip_port') || '?'})`);
      if (formData.get('conn_serial')) connections.push(`Serial RS-232/485 (Baud: ${formData.get('serial_baud') || '?'})`);
      if (formData.get('conn_opcua')) connections.push('OPC-UA');
      if (formData.get('conn_sdk')) connections.push('SDK/API');
      summary += `Connection Methods: ${connections.length ? connections.join(', ') : 'Not specified'}\n`;
      summary += `API Documentation Available: ${formData.get('api_docs') ? 'Yes' : 'No/Not indicated'}\n\n`;

      // Scanner Specs
      summary += `3. SCANNER SPECIFICATIONS\n${'-'.repeat(30)}\n`;
      summary += `Motion System:\n`;
      summary += `  - Max Scan Speed: ${formData.get('max_scan_speed') || '?'} mm/s\n`;
      summary += `  - Max Index Speed: ${formData.get('max_index_speed') || '?'} mm/s\n`;
      summary += `  - Max Rotation: ${formData.get('max_rotation_speed') || '?'} rpm\n`;
      summary += `  - Max Acceleration: ${formData.get('max_acceleration') || '?'} mm/s¬≤\n`;
      summary += `  - Travel (X/Y/Z): ${formData.get('x_travel') || '?'}/${formData.get('y_travel') || '?'}/${formData.get('z_travel') || '?'} mm\n`;
      summary += `Immersion Tank: ${formData.get('tank_length') || '?'} √ó ${formData.get('tank_width') || '?'} √ó ${formData.get('tank_depth') || '?'} mm\n`;
      summary += `UT System:\n`;
      summary += `  - Max PRF: ${formData.get('max_prf') || '?'} Hz\n`;
      summary += `  - Frequency Range: ${formData.get('freq_range') || '?'} MHz\n`;
      summary += `  - Channels: ${formData.get('channels') || '?'}\n\n`;

      // Required Fields
      summary += `4. REQUIRED SETUP FIELDS\n${'-'.repeat(30)}\n`;
      const partFields = [];
      if (formData.get('req_part_number')) partFields.push('Part Number');
      if (formData.get('req_material')) partFields.push('Material');
      if (formData.get('req_geometry')) partFields.push('Geometry Type');
      if (formData.get('req_dimensions')) partFields.push('Dimensions');
      if (formData.get('req_velocity')) partFields.push('Acoustic Velocity');
      summary += `Part Definition: ${partFields.join(', ') || 'None selected'}\n`;

      const equipFields = [];
      if (formData.get('req_probe_freq')) equipFields.push('Probe Frequency');
      if (formData.get('req_probe_diameter')) equipFields.push('Probe Diameter');
      if (formData.get('req_probe_type')) equipFields.push('Probe Type');
      if (formData.get('req_wedge_angle')) equipFields.push('Wedge Angle');
      summary += `Equipment: ${equipFields.join(', ') || 'None selected'}\n`;

      const scanFields = [];
      if (formData.get('req_scan_speed')) scanFields.push('Scan Speed');
      if (formData.get('req_index_step')) scanFields.push('Index Step');
      if (formData.get('req_water_path')) scanFields.push('Water Path');
      if (formData.get('req_prf')) scanFields.push('PRF');
      if (formData.get('req_gain')) scanFields.push('Gain');
      if (formData.get('req_gates')) scanFields.push('Gates');
      summary += `Scan Plan: ${scanFields.join(', ') || 'None selected'}\n`;

      const calFields = [];
      if (formData.get('req_block_type')) calFields.push('Block Type');
      if (formData.get('req_block_serial')) calFields.push('Block Serial');
      if (formData.get('req_fbh_sizes')) calFields.push('FBH Sizes');
      if (formData.get('req_dac_tcg')) calFields.push('DAC/TCG Curve');
      summary += `Calibration: ${calFields.join(', ') || 'None selected'}\n`;

      if (formData.get('other_required_fields')) {
        summary += `Other Fields: ${formData.get('other_required_fields')}\n`;
      }
      summary += '\n';

      // Outputs
      summary += `5. OUTPUT REQUIREMENTS\n${'-'.repeat(30)}\n`;
      const outputs = [];
      if (formData.get('out_setup_file')) outputs.push('Setup File');
      if (formData.get('out_scan_path')) outputs.push('Scan Path Coordinates');
      if (formData.get('out_motion_program')) outputs.push('Motion Program (G-code)');
      if (formData.get('out_calibration')) outputs.push('Calibration Data');
      if (formData.get('out_coverage_map')) outputs.push('Coverage Map');
      summary += `Required Outputs: ${outputs.join(', ') || 'None selected'}\n`;
      if (formData.get('other_outputs')) {
        summary += `Other: ${formData.get('other_outputs')}\n`;
      }
      summary += '\n';

      // Integration
      summary += `6. INTEGRATION LEVEL\n${'-'.repeat(30)}\n`;
      const intType = formData.get('integration_type');
      const intNames = {
        'file_export': 'Option A: File Export (Manual)',
        'direct_integration': 'Option B: Direct Integration (API)',
        'direct_control': 'Option C: Direct Scanner Control'
      };
      summary += `Preferred: ${intNames[intType] || 'Not selected'}\n\n`;

      // Files
      summary += `7. AVAILABLE FILES\n${'-'.repeat(30)}\n`;
      const files = [];
      if (formData.get('file_empty_template')) files.push('Empty Template');
      if (formData.get('file_completed_example')) files.push('Completed Example');
      if (formData.get('file_scan_data')) files.push('Scan Data Example');
      if (formData.get('file_api_docs')) files.push('API Documentation');
      summary += `Can Provide: ${files.join(', ') || 'None indicated'}\n`;
      if (formData.get('additional_notes')) {
        summary += `\nAdditional Notes:\n${formData.get('additional_notes')}\n`;
      }

      summary += `\n${'='.repeat(50)}\n`;
      summary += `End of Questionnaire Response\n`;

      document.getElementById('summaryContent').textContent = summary;
      document.getElementById('summaryModal').style.display = 'block';
    }

    function closeSummary() {
      document.getElementById('summaryModal').style.display = 'none';
    }

    function copySummary() {
      const content = document.getElementById('summaryContent').textContent;
      navigator.clipboard.writeText(content).then(() => {
        alert('Summary copied to clipboard!');
      }).catch(err => {
        console.error('Failed to copy:', err);
        // Fallback
        const textarea = document.createElement('textarea');
        textarea.value = content;
        document.body.appendChild(textarea);
        textarea.select();
        document.execCommand('copy');
        document.body.removeChild(textarea);
        alert('Summary copied to clipboard!');
      });
    }

    // Initialize
    updateProgress();
  </script>
</body>
</html>
